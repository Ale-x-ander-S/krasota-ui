<!-- Header —Å –Ω–∞–≤–∏–≥–∞—Ü–∏–µ–π -->
<app-header></app-header>

<!-- Main Content -->
<main class="main-content">
  <div class="container">
    <!-- Search and Filter Section -->
    <section class="search-filter-section">
      <div class="search-filter-header">
        <h2>–ü–æ–∏—Å–∫ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è</h2>
        <div class="view-toggle">
          <button 
            [class.active]="viewMode === 'list'"
            (click)="toggleViewMode('list')"
          >
            –°–ø–∏—Å–æ–∫
          </button>
          <button 
            [class.active]="viewMode === 'grid'"
            (click)="toggleViewMode('grid')"
          >
            –°–µ—Ç–∫–∞
          </button>
        </div>
      </div>
      
      <div class="search-filter-content">
        <!-- Search -->
        <div class="search-group">
          <input 
            type="text" 
            placeholder="–ù–∞–π—Ç–∏ —Ç–æ–≤–∞—Ä..."
            [(ngModel)]="searchTerm"
            (input)="onSearchChange()"
            class="search-input"
          >
        </div>

        <!-- Category Filter -->
        <div class="filter-group">
          <label for="category">–ö–∞—Ç–µ–≥–æ—Ä–∏—è:</label>
          <select 
            id="category" 
            [(ngModel)]="selectedCategory"
            (change)="onCategoryChange()"
          >
            <option value="">–í—Å–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏</option>
            <option *ngFor="let category of categories" [value]="category">
              {{ category }}
            </option>
          </select>
        </div>

        <!-- Sort -->
        <div class="filter-group">
          <label for="sort">–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞:</label>
          <select 
            id="sort" 
            [(ngModel)]="sortBy"
            (change)="onSortChange()"
          >
            <option value="name">–ü–æ –Ω–∞–∑–≤–∞–Ω–∏—é</option>
            <option value="price-asc">–ü–æ —Ü–µ–Ω–µ (–≤–æ–∑—Ä–∞—Å—Ç–∞–Ω–∏–µ)</option>
            <option value="price-desc">–ü–æ —Ü–µ–Ω–µ (—É–±—ã–≤–∞–Ω–∏–µ)</option>
          </select>
        </div>
      </div>
    </section>

    <!-- Products Section -->
    <section class="products-section">
      <div class="products-header">
        <h2>–ù–∞–π–¥–µ–Ω–æ —Ç–æ–≤–∞—Ä–æ–≤: {{ filteredProducts.length }}</h2>
      </div>
      
      <div class="products-grid" [class.list-view]="viewMode === 'list'">
        <div 
          *ngFor="let product of filteredProducts" 
          class="product-card"
          [class.out-of-stock]="!product.inStock"
          (click)="goToProduct(product.id)"
          style="cursor: pointer;"
        >
          <div class="product-image">
            <img [src]="product.image" [alt]="product.name">
            <div *ngIf="!product.inStock" class="out-of-stock-badge">
              –ù–µ—Ç –≤ –Ω–∞–ª–∏—á–∏–∏
            </div>
          </div>
          
          <div class="product-info">
            <h3 class="product-title">{{ product.name }}</h3>
            <p class="product-description">{{ product.description }}</p>
            <div class="product-meta">
              <div class="product-price">{{ formatPrice(product.price) }}</div>
              <div class="product-rating">
                <span>‚òÖ</span>
                <span>4.5</span>
              </div>
            </div>
            
            <div class="product-actions">
              <button 
                class="btn btn-primary"
                [disabled]="!product.inStock"
                (click)="addToCart($event, product)"
              >
                {{ product.inStock ? '–í –∫–æ—Ä–∑–∏–Ω—É' : '–ù–µ—Ç –≤ –Ω–∞–ª–∏—á–∏–∏' }}
              </button>
            </div>
          </div>
        </div>
      </div>

      <!-- Empty State -->
      <div *ngIf="filteredProducts.length === 0" class="empty-state">
        <div class="empty-icon">üì¶</div>
        <h3>–¢–æ–≤–∞—Ä—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã</h3>
        <p>–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∏–∑–º–µ–Ω–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ–∏—Å–∫–∞ –∏–ª–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏—é</p>
        <a href="#" class="btn">–°–±—Ä–æ—Å–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã</a>
      </div>
    </section>
  </div>
</main>
